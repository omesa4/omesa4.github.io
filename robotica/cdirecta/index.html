<!DOCTYPE html> 
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web d'Oscar</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Rubik', sans-serif;
      background: linear-gradient(145deg, #0a0a0a, #1f012f);
      color: #e0caff;
      overflow-x: hidden;
    }

    header {
      background: #1a002e;
      padding: 1rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 0 20px #9000ff;
      border-bottom: 1px solid #6400a8;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      height: 50px;
    }

    .brand-text {
      color: #c46bff;
      font-size: 1.2rem;
      font-weight: bold;
      text-decoration: none;
    }

    nav {
      display: flex;
      gap: 1rem;
    }

    nav a {
      color: #e0caff;
      text-decoration: none;
      font-weight: bold;
      position: relative;
    }

    nav a:hover {
      text-decoration: underline;
    }

    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #32004d;
      min-width: 180px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.3);
      z-index: 1;
    }

    .dropdown-content a {
      display: block;
      padding: 0.75rem 1rem;
      color: #e0caff;
      text-decoration: none;
    }

    .dropdown-content a:hover {
      background-color: #4c0070;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 2rem;
      background: rgba(40, 0, 60, 0.25);
      border-radius: 20px;
      box-shadow: 0 0 25px #610094;
    }

    h1 {
      text-align: center;
      color: #f2d6ff;
    }

    footer {
      text-align: center;
      color: #9966cc;
      padding: 2rem 0;
      font-size: 0.9rem;
      border-top: 1px solid #330033;
    }
  </style>
</head>

<body>
  <header>
    <div class="brand">
      <a href="https://agora.xtec.cat/ies-pompeu-fabra-martorell/">
        <img src="pompeu.png" alt="Logo" class="logo">
      </a>
      <a href="https://omesa4.github.io/" class="brand-text">Web d'Oscar</a>
    </div>

    <nav>
      <a href="https://omesa4.github.io/">Inici</a>

      <div class="dropdown">
        <a href="#">Robòtica ▾</a>
        <div class="dropdown-content">
          <a href="https://omesa4.github.io/robotica/cdirecta/index.html">Cinemàtica directa</a>
          <a href="https://omesa4.github.io/robotica/cinversa/index.html">Cinemàtica inversa</a>
          <a href="https://omesa4.github.io/robotica/arduino/index.html">Teoria</a>
          <a href="https://omesa4.github.io/robotica/arduino/configuracio/index.html">Configuració</a>
          <a href="https://omesa4.github.io/robotica/arduino/programacio/index.html">Programació</a>
          <a href="https://omesa4.github.io/robotica/arduino/musica/index.html">Música</a>
          <a href="https://omesa4.github.io/robotica/final/index.html">Projecte Final</a>
        </div>
      </div>

      <div class="dropdown">
        <a href="#">Programació ▾</a>
        <div class="dropdown-content">
      <a href="https://omesa4.github.io/cara/index.html"> Cares</a>
      <a href="https://omesa4.github.io/we_pray/index.html"> We Pray</a>
      <a href="https://omesa4.github.io/coldplay/index.html"> ColdPlay</a>
      <a href="https://omesa4.github.io/astronomia/index.html"> Astronomia</a>
      <a href="https://omesa4.github.io/Obra%20d'Art/index.html"> Obra d'art</a>
      </div>
      </div>
    </nav>
  </header>

  <main>
<!-- Contingut principal -->
<div class="content-container">
    <h1>Càlcul de la posició d'un robot amb 2 braços</h1>
  <!--h1 vol dir títol gran de l'anglès heading one i es fa més petit amb h2 i fins a h6que és el més petit posible-->
  <!--div és un divisor i conté en aquest cas unes quantes instruccions html que serveixen per introduir totes les dades que-->
  <!--etiquetes i campsd'entrades per a les dades del robot-->
  <label for="a1">longitud del primer braç (a1):</label>
    <!--label és una etiqueta que ens ajuda a identificar un text-->
    <input type="number" id="a1" value="2" step="0.1"><br><br>
    <!--input vol dir entrada d'informació per part de l'usuari que pot ser de molts tipus
    en aquest cas és un número, però podria ser un input type text, date o button que serian respectivament
    que només accepta que escrivim text una data o un boto respectivament, més exemples aqui: https://www.w3schools.com/html/html_form_input_types.asp-->
    <!--id significa identificador i és com un DNI, no es pot repetir en la mateixa pàgina i ens ajuda a manipular-lo amb
    Javascript getElementById, value significa valor per defecte que sortirà directament, step és la variabilitat
    que jo puc escriure, no puc escriure 4,32, si vulgues escriure 4,32 amb 2 decimal que hauries d'escriure?
    hauria d'escriure step="0.01"-->
    <!--br significa "break" que deixa una linea en blanc darrera, com hi ha 2 br hi hauran 2 línies en blanc-->
    <label for="a2">longitud del segon braç (a2):</label>
    <input type="number" id="a2" value="1.5" step="0.1"><br><br>
    <label for="q1">angle del primer braç (q1, en graus):</label>
    <input type="number" id="q1" value="45" step="0.1"><br><br>
    <label for="q2">angle del segon braç (q2, en graus):</label>
    <input type="number" id="q2" value="30" step="0.1"><br><br>
    <!--fins aquí els camps d'entrada de dades de l'usuari per fer el problema-->
    <!--tots els inputs són com caixes blanques d'entrada d'informació-->
    <button onclick="calculatePosition()">Calcula la posició:</button>
    <!--calcula la posició té forma de botó i quan el cliquem s'executa una funció 
    Javascript anomenada calculatedPosition() que té els parentesis buits perqué no depen de cap parametre
    o argument. Button és un tag principal com label, p per paràgraf, input per entrada i el que té al costat tots
    els tags principals són atributs com en aquest cas onclick-->
    <!--en comptes de fer un clic al botó puc fer ondblclick que obligaria a l'usuari a fer 2 clics o puc fer onmouseover
    el botó s'activa quan paso per sobre amb el ratolí i puc fer que canvii de color o una explicació de lo que fa el botó
    o tooltip o informació del que fa el botó-->
</div><!--aquest és el divisor que conté l'entrada de numeros de l'usuri i el botó calcula la posició-->
    <div id="output"></div>
    <!--l'anterior és un divisor buit que és una part de la pantalla que ara està buida que té un nom, output,
    anomenat així perqué serà on estaran tots els calculs quan apretem el botó calcula la posició-->
    <canvas id="robotCanvas" width="400" height="400"></canvas>
    <!--un canvas és una zona on hi haura un gràfic que representarà en el nostre cas els 2 braços del robot,
    en aquest cas quedarà un requadre de 400x400 buit fins que apreti calcula la posició-->
    <script>
        <!--script vol dir que canvio totalment de llenguatge de programació i deixem d'escriure HTML que
            té els simbols <> i que serveix per fer estuctures estatiques que no es mouen ni són
            interactives amb llenguatge Javascript-->
                
                <script>
                function calculatePosition() {
                    //agafar les dades introduides per l'usuari
                    let a1 = parseFloat(document.getElementById('a1').value); //longitud primer braç 
                    let a2 = parseFloat(document.getElementById('a2').value); //longitud segon braç 
                    let q1_deg = parseFloat(document.getElementById('q1').value); //angle en graus del primer braç
                    let q2_deg = parseFloat(document.getElementById('q2').value); //angle en graus del segon braç
                    /*La funció "let" ens permet crear variables locals perquè estan a dins d'una funció (en aquest cas seria variable
                 global si estiguessin al principi del codi i afectés a tot el codi) que emmagatzemen els valors introduits per l'usuari
                 perquè a banda de fer getElementById aplico el mètode .value per assegurar-me que agafo el valor escrit i aplico la funció 
                 "parseFloat" per convertit el valor introduit per l'usuari en un nombre decimal o "Floating point number" en anglès 
                 (si hagués posat "parseInt" el convertiria en nombres enters). En aquest tros de codi anterior de la l11 a la l14
                 hem aconseguit guardar les 4 dades geomètriques del nostre robot per fer càlculs de la seva posició en funció
                 de les 4 dades introduides per l'usuari */
                    //convertir graus a radians per als calculs trigonometrics
                    let q1 = q1_deg * Math.PI / 180
                    let q2 = q2_deg * Math.PI / 180
                    //això es el mateix que 2PI/360

                    //mostrar les fórmules per calcular la posició del robot
                    let output = "<div class='equation'> Les equacions per calcular la posició final  del robot son:</div>";
                    output = "<div class='equation'>\\[ x = a_1 \\cos(q1) + a_2 \\cos(q_1 + q_2) \\] </div>";
                    output = "<div class='equation'>\\[ x = a_1 \\sin(q1) + a_2 \\sin(q_1 + q_2) \\] </div>";
                    
                    /* Estic creant una variable anomenada "output" en JavaScript que conté un element "div" o divisor HTML dintre del qual
    hi han equacions del robot en llenguatge JavaScript de la biblioteca (library) MathJax3 que permet veure 
    fórmules matemàtiques en una web. MathJax3 utilitza \\ per avisar que comença un mathJax i té unes normes
    com que la _ indica "subíndex", si poso una \\ davant de sinus o cosinus es veu escrit com a fórmula */
                    </script>

</div>

<!-- Scripts necessaris -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  </main>
</body>
</html>
